# Cyto Partials

## What are partials?
If you've used Mustache or a similar templating language before, you're probably familiar with the concept of partials. For those who aren't, [partials](https://mustache.github.io/mustache.5.html#Partials) are Mustache templates that can be rendered inside of another Mustache template.  The documentation has a great quote that I feel explains partials very well:

> You may want to think of partials as includes, imports, template expansion, nested templates, or subtemplates, even though those aren't literally the case here.

Partials are great because they allow you to break out repeated snippets of text in a Mustache template and move them into their own Mustache templates. However, Cyto handles all of the Mustache rendering for you, so you might be wondering how to use partials in Cyto dependency files. Fortunately, Cyto does support using partials in dependency files! However, there are some small differences between how Cyto handles partials and how Mustache does, which will be explained in the rest of this document.

## How Cyto partials work

Cyto partials are Cyto templates: there's no special syntax to declare that a Cyto template is a partial. However, Cyto partials must meet a single requirement:  their `dependencies`  section in the `cyto.config.js` file must have exactly 1 element, which must be a string dependency. Other than that, Cyto partials are no different from normal Cyto templates.

Let's take a look at how the `cyto/partialsDemo`  template looks:

`<path to GTL>/cyto/partialsDemo/cyto.config.js`
```js
module.exports = {
  templateId: "cyto/partialsDemo",
  dependencies: [
    'demo.txt',
  ],
  args: [
    {
      id: 'thingsToGreet',
      type: 'list',
      default: [],
    },
    {
      id: 'thingToGreet',
      default: 'Cyto expert :D'
    }
  ],
  options: {
    createDirectory: false,
  }
};
```

`<path to GTL>/cyto/partialsDemo/demo.txt`
```
This template is passed the same context as cyto/partialsDemo
{{> cyto/tutorial }}

These templates are passed the context from the `thingsToGreet` arg
{{# thingsToGreet }}
{{> cyto/tutorial}}
{{/ thingsToGreet }}
```

As you can see, Cyto partials are used the same way as Mustache partials. To use them, we specify the `templateId` of the partial we'd like to include in the project and Cyto handles the rest. Here, we specify that we'd like to use the `cyto/tutorial` template as a partial. The generation process will look like this:

```bash
> cyto gen cyto/partialsDemo demo
Generating cyto/partialsDemo with id demo
? thingsToGreet:  foo,bar
? thingToGreet:  Cyto expert :D
Generating cyto/tutorial with id demo
Generating cyto/tutorial with id foo
? thingToGreet:  world
Generating cyto/tutorial with id bar
? thingToGreet:  other world
> cat demo.txt
This template is passed the same context as cyto/partialsDemo
Hello Cyto expert :D!

This file was generated by Connor Taylor with an id of demo using Cyto.

These templates are passed the context from the `thingsToGreet` arg
Hello world!

This file was generated by Connor Taylor with an id of foo using Cyto.
Hello other world!

This file was generated by Connor Taylor with an id of bar using Cyto.
```