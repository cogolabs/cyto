# Composing Templates

One of the primary reasons that Cyto templates are so powerful is that they are composable, meaning that templates can have other templates as dependencies. This allows you to write templates that are much more modular and reusable. Template dependencies are represented as objects in the `dependencies` section and are listed as dependencies in the parent template's `package.json`. To demonstrate this, lets take a look at the `cyto-composing` and `cyto-composed` templates included in the `cyto-preset-tutorials` preset:

`node_modules/cyto-template-cyto-composing/cyto.config.js`
```js
module.exports = {
  templateId: "cyto-composing",
  dependencies: [
    'composing.txt',
    {
      templateId: 'cyto-composed',
      args: {
        id: 'composed',
        templateArg: 'I was passed via another template'
      }
    }
  ],
  args: [
    { id: 'userArg' }
  ],
  options: {
    createDirectory: false
  }
};
```
`node_modules/cyto-template-cyto-composing/composing.txt`
```
This template was given a userArg value of: {{userArg}}
```
`node_modules/cyto-template-cyto-composed/cyto.config.js`
```js
module.exports = {
  templateId: "cyto-composed",
  dependencies: [
    '{{id}}.txt'
  ],
  args: [
    { id: 'templateArg' },
    { id: 'userArg' },
    {
      id: 'listArg',
      default: [],
      type: 'list'
    }
  ],
  options: {
    createDirectory: false
  }
};
```
`node_modules/cyto-template-cyto-composed/composed.txt`
```
cyto-composed was generated by another template and given an id of: {{id}}

This template was given a userArg value of: {{userArg}}

The parent template supplied this value: {{templateArg}}
```

## Object dependency structure

Object dependencies must have 2 keys: 

1. `templateId`: specifies the template we need to generate 
2.  `args`: An object that maps argument ids to values. Cyto will not prompt the user for any arguments supplied this way. 

Remember that the `id` arg is required for all templates, so it must be supplied by the parent template. Let's see what the generation flow for `cyto-composing` looks like:

```bash
> cyto gen cyto-composing test
Generating cyto-composing with id compose
? userArg:  foo
Generating cyto-composed with id composed
? userArg:  bar
> cat composing.txt
cyto-composing was given a userArg value of: foo
> cat composed.txt
cyto-composed was generated by another template and given an id of: composed

This template was given a userArg value of: bar

The parent template supplied this value: I was passed via another template
```

Note that although both templates have an arg with the id `userArg`, it's prompted for twice. This is because Cyto generates each template independently, so one set of args doesn't clobber another.
