# Getting Started

## What is Cyto?

Cyto is built around one concept: the generation of boilerplate from templates. Templates are like blueprints, they tell Cyto exactly what boilerplate to generate, what arguments to prompt the user for, and what special options to set. Generation is just the process of taking a template and creating the boilerplate it specifies. Generation can be broken down into this flow of events:

1. User indicates that they want to generate boilerplate from a template by running the `cyto gen` command
2. Cyto loads the specified template from the user's Global Template Library (abbreviated GTL) and performs some validation checks
3. Cyto prompts the user for the arguments specified by the template
4. Cyto processes each dependency, which produces the boilerplate to write to the filesystem. This process includes embedding the argument values into the dependency files.
5. Cyto outputs the created boilerplate. Tada!

This document will walk you through the structure of templates and what the generation process looks like in practice.

## Initializing Cyto

Cyto requires some initialization before it can be used. This is done by running the `cyto init` command. This will prompt you for 2 things:

1. Your name
1. Where to create your GTL. This is where all of your templates will be stored, so make sure you pick a location that's easily accessible and not prone to deletion.

If your GTL ever gets removed or you want to change your name, you can just rerun `cyto init`.

## Template Structure

Before covering how to generate boilerplate, let's explore how templates are structured. A template is a directory that contains two things: a `cyto.config.js` file that holds all information about a template and any number of dependency files which hold the boilerplate code to generate. All templates must be stored in the GTL, otherwise Cyto will be unable to locate them. The GTL also includes some examples to help you get started. Let's look at the `cyto/tutorial` example template, which generates a single text file:

1. `/<path to GTL>/cyto/tutorial/cyto.config.js`
```js
module.exports = {
  templateId: "cyto/tutorial",
  dependencies: [
    '{{id}}.txt',
  ],
  args: [
    {
      id: 'thingToGreet',
      default: 'world',
    },
  ],
  options: {
    createDirectory: false,
  }
};
```
2. `/<path to GTL>/cyto/tutorial/{{id}}.txt`
```
Hello {{thingToGreet}}!

This file was generated by {{author}} with an id of {{id}} using Cyto.
```

Even at it's simplest, there's a decent amount of information to process here, so let's break down each part.

## The cyto.config.js file

The `cyto.config.js` file is the key piece of any template. It holds all the information Cyto needs to take a template and create its specified boilerplate. A `cyto.config.js` must be written in Javascript, but you'll only need to understand basic Javascript syntax to get started using them. The actual config for the template is an object exported by the `cyto.config.js` file. That object must contain, at minimum, four keys:

1. `templateId`: A unique identifier that determines where Cyto will look for the template in the GTL. Each `templateId` must be of the format `<group>/<name>`, where `group` is a logical grouping for related templates and `name` is a more specific descriptor for that template within the group. This template is in the `cyto` group and has a name of `tutorial`.
2. `dependencies`: An array that represents everything a template needs to be generated. Dependencies can be strings, objects, or functions (more on this later). In this template, we have one string dependency: `{{id}}.txt`. This means Cyto will look for a file called `{{id}}.txt` inside of the `cyto/tutorial` directory and output it when the template is generated.
3. `args`: An array of objects that represents all of the values that Cyto needs to get from a user in order to properly generate the template. These are passed to mustache when each dependency file is rendered to be embedded within the boilerplate. Arguments can have a few different types (more on this later as well), but the default type is `string`. The `cyto/tutorial` template only requires 1 argument: `thingToGreet`, which has a default value of `world`.
4. `options`: An object that holds a collection of values to set while running Cyto. Here, we set the `createDirectory` flag to false, which tells Cyto not to create a new directory to hold all of the template's generated content (note: this is the default, it's just included for illustrative purposes)

## Dependency files

Dependency files are any files included in a template's directory that are not the `cyto.config.js` file. In this example, there is only one dependency file: `{{id}}.txt` file. Dependency files contain boilerplate to generate for the template they are part of and are represented as strings in the `dependencies` array of a `cyto.config.js` file. These files are rendered with [Mustache](https://mustache.github.io/mustache.5.html) before being written to the filesystem. String dependencies in a `cyto.config.js` file are also passed through the Mustache renderer, so if the `id` argument is set to `hello` for this template, the name of the rendered `{{id}}.txt` file will be `hello.txt`. The only requirement for a dependency file is that it must be a valid Mustache template. If you're unfamiliar with Mustache, stop here and take a few minutes to familiarize yourself with the syntax. To clarify, *rendering* refers to passing text through the Mustache renderer while *generation* refers to the entire process of taking a Cyto template and writing it to the filesystem.

## Generating templates

Now that we understand how this Cyto template is structured, let's generate it! The command to generate a template is `cyto gen <templateId> <id>`. All templates must be given a unique `id` arg, so you don't need to specify that in the `args` section of a `cyto.config.js` file. The `author` arg is provided by default (since it was given while running `cyto init`) so generating the template above will look like this:

```bash
> cyto gen cyto/tutorial hello
Generating cyto/tutorial with id hello
? thingToGreet:  new Cyto user
> cat hello.txt
Hello new Cyto user!

This file was generated by Connor Taylor with an id of hello using Cyto.
```

And that's it! You've just generated your first boilerplate with Cyto. However, this is fairly trivial example. Cyto really starts to shine when you make use of its more advanced features, which will be explained in the rest of the documentation.