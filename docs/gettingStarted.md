# Getting Started

Cyto is built around one idea: the generation of templates.  Generation is the procedure of taking a template and processing all of it's dependencies as needed.  Generation can be broken down into this flow of events:

1. User indicates that they want to generate a template by running the `cyto gen` command
2. Cyto loads the specified template from the user's Global Template Library (abbreviated GTL) performs some validation checks
3. Cyto prompts the user for the arguments specified by the template
4. Cyto processes each dependency, which produces the boilerplate to write to the filesystem
5. Cyto outputs the boilerplate with the user's arguments embedded within it


## Template Structure
Each template is a directory that contains 2 things: a `cyto.config.js` file that holds all information about a template and any number of dependency files which hold the boilerplate code to generate. A `cyto.config.js` file contains, at minimum, 4 things: a globally unique template id, a list of dependencies (the boilerplate to generate), a list of arguments to prompt the user for, and an options object. All templates are stored in the global template library (abbreviated as GTL), which is a directory that you set when you run `cyto init`. The GTL also includes some examples to help you get started. Let's look at the `cyto/tutorial` template, which generates a single text file:

1. `/<path to GTL>/cyto/tutorial/cyto.config.js`
```js
module.exports = {
  templateId: "cyto/tutorial",
  dependencies: [
    '{{id}}.txt',
  ],
  args: [
    {
      id: 'thingToGreet',
      default: 'world',
    },
  ],
  options: {
    createDirectory: false,
  }
};
```
2. `/<path to GTL>/cyto/tutorial/{{id}}.txt`
```
Hello {{thingToGreet}}!

This file was generated by {{author}} using Cyto.
```

Even at it's simplest, there's a decent amount of information to process here, so let's break down each part starting with the `cyto.config.js` file. As mentioned earlier, each `cyto.config.js` file must export an object with four keys:

1. `templateId`: A unique identifier that determines where Cyto will look for the template in the GTL. Each `templateId` must be of the format `<group>/<name>`, where `group` is a logical grouping for related templates and `name` is a more specific descriptor for that template within the group. This template is in the `cyto` group and has a name of `tutorial`.
2. `dependencies`: An array that represents everything a template needs to be generated. Dependencies can be strings, objects, or functions (more on this later). In this template, we have one string dependency: `{{id}}.js`. This means Cyto will look for a file called `{{id}}.js` inside of the `cyto/tutorial` directory and output it when the template is generated.
3. `args`: An array of objects that represents all of the values that Cyto needs to get from a user in order to properly generate the template. These are passed to mustache when each dependency file is rendered to be embedded within the boilerplate. Arguments can have a few different types (more on this later as well), but the default type is `string`. The `cyto/hello` template only requires 1 argument: `thingToGreet`, which has a default value of `world`.
4. `options`: An object that holds a collection of values to set while running Cyto. Here, we set the `createDirectory` flag to false, which tells Cyto not to create a new directory to hold all of the template's generated content (note: this is the default, it's just included for illustrative purposes)

The `{{id}}.txt` file, as mentioned above, is a dependency for the template and contains some boilerplate to generate. All string dependencies correspond to a file that holds some boilerplate for this template. These files are rendered with [mustache](https://mustache.github.io/mustache.5.html) before being written to the filesystem and may contain anything that conforms to Mustache's syntax. If you're unfamiliar with mustache, stop here and take a few minutes to familiarize yourself with the syntax. To clarify, *rendering* refers to passing some content through mustache while *generation* refers to the entire process of taking a Cyto template and writing it to the filesystem.

There are a few other things to mention about this template. For every string dependency, the filename is also passed through the mustache renderer. For this example, if the `id` argument is set to `hello`, the name of the rendered `{{id}}.txt` file will be `hello.txt`. All templates must be given a unique `id` arg at generation time, so you don't need to specify that in the `args` section of the `cyto.config.js` file. Cyto also provides the `author` variable by default. Finally, although the config file must be written in Javascript, the boilerplate that Cyto can generate is language independent. This means we can generate boilerplate for **any** kind of text file with just a bit of Javascript know-how.

Now that we understand how this Cyto template is structured, let's generate it! The command to generate a template is `cyto gen <templateId> <id>`, so generating the template above will look like this:

```bash
> cyto gen cyto/tutorial hello
Generating cyto/tutorial with id hello
? thingToGreet:  new Cyto user
> cat hello.txt
Hello new Cyto user!

This file was generated by Connor Taylor using Cyto.
```

And that's it! You've just generated your first boilerplate with Cyto. However, this is fairly trivial example. Cyto really starts to shine when you make use of its more advanced features, which will be explained in the rest of the documentation.